{% extends 'basic.html' %}
{% load static %}

{% block body %}
<div class="container my-5">
  <h1 class="text-center mb-4">üìù ODM Blog</h1>

  <div class="row row-cols-1 row-cols-md-2 g-4">
{% for blog in blogs %}
  <div class="col">
    <!-- Blog card with link -->
    <a href="{% url 'blog_detail' blog.slug %}" style="text-decoration: none; color: inherit;">
      <div class="d-flex border rounded shadow-sm overflow-hidden h-100" style="background-color: #fff;">

        <!-- Left: Text content -->
        <div class="p-4 d-flex flex-column justify-content-between w-100">
          <div>
            <strong class="d-inline-block mb-2 text-{{ blog.category|lower|default:'primary' }}">
              {{ blog.category }}
            </strong>
            <h4 class="mb-0">{{ blog.title }}</h4>
            <div class="text-muted mb-2">{{ blog.date_posted|date:"M d" }}</div>
            <p class="mb-3">{{ blog.description|truncatewords:25 }}</p>
            <a href="{% url 'blog_detail' blog.slug %}">Read more</a>

          </div>
        </div>

        <!-- Right: Thumbnail -->
        <div class="d-none d-md-block" style="min-width: 200px; max-width: 200px;">
          {% if blog.image %}
            <img src="{{ blog.image.url }}" alt="Thumbnail" class="img-fluid h-100 w-100" style="object-fit: cover;">
          {% else %}
            <div class="bg-dark text-white h-100 d-flex align-items-center justify-content-center" style="min-height: 100%;">
              <span>Thumbnail</span>
            </div>
          {% endif %}
        </div>

      </div>
    </a>
  </div>
{% endfor %}

  </div>
</div>
{% endblock %}

{% block js %}
{% endblock %}
